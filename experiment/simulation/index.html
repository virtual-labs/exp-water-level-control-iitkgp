<!-- This HTML page and script files are developed by
    Piyali Chattopadhyay
    Project Scientist-Technical,
    Virtual Labs IIT Kharagpur.-->

<!DOCTYPE html>
<html lang="en"><!--html tag start-->
<head>
    <title>Two Tank Water Level Control</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../css/adik.css" rel="stylesheet">
  
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script  src="./js/TC.js">   </script>
  
  
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>-->
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.2.1/math.js"></script>
  <script src=" https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.2.1/math.min.js  "></script>
 
 

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"> </script>

<link rel="stylesheet" href="./css/TC.css">

	


  <style>
	.bluedot{
	position:absolute;
    border: 2px solid blue;
    border-radius:50%;
    background-color:blue;
    background-image:linear-gradient(90deg,#0066ff,#00ccff);
	box-shadow: 5px 5px 8px #888888;
	}
	.handlep{
	position:absolute;
    border: 2px solid blue;
    border-radius:50%;
    background-color:white;
    background-image:url(./images/plus.png);
	background-size:cover;
	background-position:center;
	
	}
	
	.handlen{
	position:absolute;
    border: 2px solid blue;
    border-radius:50%;
    background-color:white;
    background-image:url(./images/minus.jpg);
	background-size:cover;
	background-position:center;
	
	}
	
	canvas {	
	max-width:100%;
	}
	
  </style>
  
  
  
</head>
<body><!--body tag start-->
    <div class="container p-3 my-3 text-primary text-center border"><!--First Container under body tag start-->
        <div class="row"><!--First row under 1st container start-->
            <div class="col-md-3"><!--First col under 1st row start-->
                <img class="img-fluid rounded" src="./images/vlabs.png" alt="VLabs logo">
            </div><!--First col under 1st row end-->
            <div class="col-md-6"><!--2nd col under 1st row start-->
                <p class="display-1"> <b> Virtual Labs <br> IIT Kharagpur </b> </p>
            </div><!--2nd col under 1st row end-->
            <div class="col-md-3"><!--3rd col under 1st row start-->
                <img class="img-fluid rounded" src="./images/iitkgp.png" alt="IIT KGP Logo" >
            </div><!--3rd col under 1st row end-->
        </div><!--First row under 1st container end-->
    
        <hr>
        <div class="row"><!--2nd row under 1st container start-->
            <div class="col-md-3"><!--First col under 2nd row start-->

            </div><!--First col under 2nd row end-->
            <div class="col-md-6"><!--2nd col under 2nd row start-->
                <p class="h1"> <b>Simulation</b> </p>
            </div><!--2nd col under 2nd row end-->
            <div class="col-md-3"><!--3rd col under 2nd row start-->

            </div><!--3rd col under 2nd row end-->
        </div><!--2nd row under 1st container end-->
        <hr>
        
    </div><!--First Container under body tag end-->
    
	
    <div class="container p-3 my-5 text-left border" style="text-align:justify"><!--3rd Container under body tag start-->
      <div class="row"><!--First row under 3rd container start-->
        <div class="col-md-1"></div><!--First col under 3rd container start& end-->
        <div class="col-md-10"><!--2nd col under 3rd container start-->
            <p class="text-center bg-success"> <a class="nav-link" data-bs-toggle="tab"  id="instcontrol" style="background-color:#128BD9"  ><span class=" h3 text-dark"> Instructions </span></a>
              <ol id="inst" style="display:block;height:200px;overflow-y:auto;">
                      <li>First click on "Configuration-1" button. Click on 'Level Response'.</li><br/>

					  <li>Enter the desired value of percentage overshoot , settling time (sec) for 2 percent error band and desired level of water (cm) for tank-1. Here the default values are 11 percent overshoot, 10 sec settling time
					  and 10 cm water level for tank-1.</li></br>
					  
					   <li>Click on 'Build Model' icon to build the plant model (tank-1) successfully. Click on 'Connect Target' icon, an alert message will be shown . Click on 'Run' button to start the
					      simulation and observe tank-1 level response. Click on 'OK' button beside the 'Download' button. Plot can be downloaded by clicking on 'Download' button.</li><br/>
						    
					 <li>Click on "Configuration-1" button again. Click on 'Level Tracking'. Three different reference levels (cm) of water
					 and the duration (sec) of tracking them need to be entered. </li><br/>
					 	  
					  <li>Enter the desired value of percentage overshoot , settling time (sec) for 2 percent error band for tank-1. 
					 Enter desired level of water (cm) as reference level 1 and desired time (sec) to track reference level 1.</li></br>	  
						  
					<li>Enter desired level of water (cm) as reference level 2 and desired time (sec) to track reference level 2.</li></br>

					<li>Enter desired level of water (cm) as reference level 3 and desired time (sec) to track reference level 3.</li></br>
						  
					<li>Click on 'Build Model' icon to build the plant model (tank-1) successfully. Click on 'Connect Target' icon, an alert message will come . Click on 'Run' button to start the
					    simulation and observe tank-1 level tracking plot. Click on 'OK' button beside the 'Download' button. Plot can be downloaded by clicking on 'Download' button.</li><br/>
						    
						  
					 <li>Now click on "Configuration-2" button. Click on 'Level Response'.</li><br/>

					  <li>Enter the desired value of percentage overshoot , settling time (sec) for 2 percent error band and desired level of water (cm) for tank-2. Here the default values are 10 percent overshoot, 20 sec settling time
					  and 8 cm water level for tank-2.</li></br>
					  
					   <li>Click on 'Build Model' icon to build the plant model (tank-2) successfully. Click on 'Connect Target' icon, an alert message will be shown . Click on 'Run' button to start the
					      simulation and observe tank-2 level response. Click on 'OK' button beside the 'Download' button. Plot can be downloaded by clicking on 'Download' button.</li><br/>
						  
					 <li>Click on "Configuration-2" button again. Click on 'Level Tracking'. Three different reference levels (cm) of water
					 and the duration (sec) of tracking them need to be entered. </li><br/>
						  
					 <li>Enter the desired value of percentage overshoot , settling time (sec) for 2 percent error band for tank-2. 
					 Enter desired level of water (cm) as reference level 1 and desired time (sec) to track reference level 1.</li></br>	  
						  
					<li>Enter desired level of water (cm) as reference level 2 and desired time (sec) to track reference level 2.</li></br>

					<li>Enter desired level of water (cm) as reference level 3 and desired time (sec) to track reference level 3.</li></br>
						  
					<li>Click on 'Build Model' icon to build the plant model (tank-2) successfully. Click on 'Connect Target' icon, an alert message will be shown . Click on 'Run' button to start the
					    simulation and observe tank-2 level tracking plot. Click on 'OK' button beside the 'Download' button. Plot can be downloaded by clicking on 'Download' button.</li><br/>
						     
							
						 
		   </ol>
            </p> 
          </div><!--2nd col under 3rd container end-->
		  
        <div class="col-md-1"></div><!--3rd col under 3rd container start& end-->
      </div><!--First row under 3rd container end-->
    </div><!--3rd Container under body tag end-->
	
    <div class="container p-3 my-5 text-center border" id="canvas" ><!--Fourth container under body tag start-->
	
	<div class="row my-5 gy-2">
	
	<div class="col-md-12">
	
	
			<!-- <div   class="img-container"> -->
			<div class="btn-group">
			<div class="dropdown p-2">
			  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" onclick="config1control()">
				Configuration-1
			  </button>
			  <ul class="dropdown-menu">
				<li><a class="dropdown-item" onclick="Level_Maintain1()">Level Response</a></li>
				<li><a class="dropdown-item" onclick="Level_Track1()">Level Tracking</a></li>
			  </ul>
			</div>
			
			<div class="dropdown p-2">
			  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" onclick="config2control()">
				Configuration-2
			  </button>
			  <ul class="dropdown-menu">
				<li><a class="dropdown-item" onclick="Level_Maintain2()">Level Response</a></li>
				<li><a class="dropdown-item" onclick="Level_Track2()">Level Tracking</a></li>
			  </ul>
			</div>
			</div>
			<!-- <button type="button" onclick="config1control()"  class="btn btn-primary valve" >Configuration-1</button>
			<button type="button" onclick="config2control()"  class="btn btn-primary valve" >Configuration-2</button><br/><br/> -->
			
			<div id = "part1" class="card" style="display:none;width:100%;background-color:#85F5D7">
			<div class="card-body"  >
			
			<div class="card-title"> Tank-1</div><br/>
			Enter the desired % overshoot :&nbsp;<input type="number" id="ov" min="1" max="11" value="11" style="width:15%;text-align:center"><br/></br>
			Enter the desired 2% settling time (sec) :&nbsp;<input type="number" id="ts" min="1" max="10" value="10" style="width:15%;text-align:center"><br/><br/>
			Enter the desired level of water in tank-1 (cm) :&nbsp;<input type="number" id="waterLevel1" min="1" max="15" value="10" style="width:15%;text-align:center"><br/><br/>
			</div></div>
			
			<div id = "part11" class="card" style="display:none;width:100%;background-color:#85F5D7">
			<div class="card-body"  >
			
			<div class="card-title"> Tank-1</div><br/>
			Enter the desired % overshoot :&nbsp;<input type="number" id="ovt" min="1" max="11" value="11" style="width:15%;text-align:center" ><br/></br>
			Enter the desired 2% settling time (sec) :&nbsp;<input type="number" id="tst" min="1" max="10" value="10" style="width:15%;text-align:center"><br/><br/>
			Enter the desired level of water in tank-1 (cm) (reference level 1) :&nbsp;<input type="number" id="ref1" min="1" max="15" value="10" style="width:15%;text-align:center"><br/>
			<br/>Enter the desired time (sec) to track reference level 1 :&nbsp;<input type="number" id="reft1" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			<br/>
			Enter the desired level of water in tank-1 (cm) (reference level 2) :&nbsp;<input type="number" id="ref2" min="1" max="15" value="10" style="width:15%;text-align:center"><br/>
			<br/>Enter the desired time (sec) to track reference level 2 :&nbsp;<input type="number" id="reft2" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			<br/>
			Enter the desired level of water in tank-1 (cm) (reference level 3) :&nbsp;<input type="number" id="ref3" min="1" max="15" value="10" style="width:15%;text-align:center"><br/>
			<br/>Enter the desired time (sec) to track reference level 3 :&nbsp;<input type="number" id="reft3" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			
			</div></div>
			
			<div id = "part2" class="card" style="display:none;width:100%;background-color:#85F5D7">
			<div class="card-body"  >
			
			<div class="card-title">Tank-2</div><br/>
			Enter the desired % overshoot :&nbsp;<input type="number" id="ov2" min="1" max="10" value="10" style="width:15%;text-align:center"><br/></br>
			Enter the desired 2% settling time (sec) :&nbsp;<input type="number" id="ts2" min="1" max="20" value="20" style="width:15%;text-align:center"><br/><br/>
			Enter the desired level of water in tank-2 (cm) :&nbsp;<input type="number" id="waterLevel2" min="1" max="15" value="8" style="width:15%;text-align:center"><br/><br/>
			</div></div>

			<div id = "part22" class="card" style="display:none;width:100%;background-color:#85F5D7">
			<div class="card-body"  >
			
			<div class="card-title"> Tank-2</div><br/>
			Enter the desired % overshoot :&nbsp;<input type="number" id="ovt2" min="1" max="11" value="11" style="width:15%;text-align:center"><br/></br>
			Enter the desired 2% settling time (sec) :&nbsp;<input type="number" id="tst2" min="1" max="10" value="10" style="width:15%;text-align:center"><br/><br/>
			Enter the desired level of water in tank-2 (cm) (reference level 1) :&nbsp;<input type="number" id="refs1" min="1" max="15" value="10" style="width:15%;text-align:center"><br/><br/>
			<br/>Enter the desired time (sec) to track reference level 1 :&nbsp;<input type="number" id="refts1" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			<br/>
			Enter the desired level of water in tank-2 (cm) (reference level 2) :&nbsp;<input type="number" id="refs2" min="1" max="15" value="10" style="width:15%;text-align:center"><br/><br/>
			<br/>Enter the desired time (sec) to track reference level 2 :&nbsp;<input type="number" id="refts2" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			<br/>
			Enter the desired level of water in tank-2 (cm) (reference level 3) :&nbsp;<input type="number" id="refs3" min="1" max="15" value="10" style="width:15%;text-align:center"><br/><br/>
			<br/>Enter the desired time (sec) to track reference level 3 :&nbsp;<input type="number" id="refts3" min="1" max="100" value="10" style="width:15%;text-align:center"><br/>
			
			</div></div>
	
	<!-- </div> -->
	
	</div>
	<input type ="number" id ="chkindex" min="1" max="4" value="1" style="visibility:hidden">
	
	</div>
	
		<div class="row my-5 gy-2"><!--- 1st row under fourth container start--->			
        
			<div class="col-md-12" ><!--1st col under 1st row start -->
				  <!-- Code Start here--> 
				<div class="img-container"><!--img container div start-->
				
				
					<img class="img-fluid " id="controller" src="images/config-11.png " />
					
					<img class="img-fluid " id="b1" src="images/build.png " onclick="Build()"/>
					<img class="img-fluid " id="b2" src="images/build.png " onclick="Build()" />
					
					<img class="img-fluid " id="c1" src="images/conn.png " onclick="CT()" />
					<img class="img-fluid " id="c2" src="images/conn.png " onclick="CT()" />
					
					<img class="img-fluid " id="r1" src="images/run.png " onclick="simu1()" />
					<img class="img-fluid " id="r2" src="images/run.png " onclick="simu2()" />
					
					<img class="img-fluid " id="sc1" src="images/simu_scope.png " onclick= "plot()" />
					<img class="img-fluid " id="sc2" src="images/simu_scope.png " onclick= "plot()"/>
					
					<input type="number" id="respT1" min="50" max="150" step="10" value="100" readonly=readonly >
					<input type="number" id="respT2" min="50" max="150" step="10" value="100" readonly=readonly >
					
					<!--<img class="img-fluid " onclick="OnOff()" id="on-off" src="./images/off.png " />
					<img class="img-fluid " id="Hi-Lo" src="images/Hi.png " />
					<img class="img-fluid " onclick="SetMeasure()" id="set-measure" src="images/off.png " />
					<img class="img-fluid " onclick="RunWait()" id="run-wait" src="./images/on.png " />-->
				
				
				
					
		  
				</div><!--img container div end--><br>
					
					<!--<button type="button" id="refresh" onclick="Refresh()" class="btn btn-primary" >Clear</button>-->
			</div><!---end of 1st col under 1st row--->	
			
        </div><!--1st row under fourth container end-->

 
        
	<div class="row my-5 gy-2"><!--- 2nd row under fourth container start--->
	
		<div class="col-md-2 "></div><!--1st col under 2nd row start and end -->
		
			<div class="col-md-8 "><!--2nd col under 2nd row start -->	
			
				<div class="img-container"><!--img container div start--> 
					       
					<img class="img-fluid" id="plant"  src="./images/plant.png "/>	

						
						<!-- Header -->

							  <!-- Pipes -->
							  <img src="./images/tapwater.gif" class="pipe" id="pipe">
							  <img src="./images/tapwater.gif" class="pipe" id="pipe2"><!--small between pipe-->
							  <img src="./images/tapwater.gif" class="pipe" id="pipe3">
							  <img src="./images/tapwater.gif" class="pipe" id="pipe4">
							  <img src="./images/tapwater.gif" class="pipe" id="pipe5">
							  <img src="./images/tapwater.gif" class="pipe" id="pipe6">
							  
							  
							  <img src="./images/tapwater.gif" class="pipe" id="upipe1">
							  <img src="./images/tapwater.gif" class="pipe" id="upipe2"><!--upipes-->
							  <img src="./images/tapwater.gif" class="pipe" id="upipe3">
							  <img src="./images/tapwater.gif" class="pipe" id="upipe4">
							  <img src="./images/tapwater.gif" class="pipe" id="upipe5">
							  
							  
							  
							  <img src="./images/water_bubble.gif" class="tankwater" id="level1" >
							  <img src="./images/water_bubble.gif" class="tankwater" id="level2" >
							  <img src="./images/water_bubble.gif" class="basinwater" id="level3" >
							  
							  <div id= "pumpoff" style="display:block;position:absolute;left:75%;top:64%;color:red;border:2px solid orange;background-color:#F8EAB0;font-size:11px;">OFF</div>
							  <div id= "pumpon" style="display:none;position:absolute;left:75%;top:64%;color:green;border:2px solid green;background-color:#B6F9B3;font-size:11px;">ON</div> 
							   </div>
							   
								<!--<button type="button" onclick="uflow()"  class="btn btn-primary valve" >run1</button>
								<!--<button type="button" onclick="flow();Tank2_Level()"  class="btn btn-primary valve" >run2</button>-->
							
						
				
				</div>
			
				
				
			
		
		<div class="col-md-2 "></div><!--3rd col under 2nd row start and end -->		
					
		
	</div><!--- 2nd row under fourth container end--->	


	 <div class="row justify-content-center"><!-----------------------graph T vs. w----------------------------------------->
		
	 
			<div class="col-md-12">
				<div id = "plotbucket" class="content-center" style="display:none; position :relative; border:3px solid white;height:530px;width:823px ">
				<button type="button" id="exportChart" class="btn btn-primary"  style="display:none;position:absolute;left:28%;">Download</button>
				<button type="button" id="result" class="btn btn-danger" onclick="Refresh()"  style="display:none;position:absolute;left:35%">OK</button><br/><br/>
					<div id="chartContainer"  style="display:none; position:absolute; height: 40%; width: 40%;z-index:1 "></div>
					
				</div>
				
			</div>
			
			
		
	</div>	

	
	
          <!-- Code End here-->
        </div><!--Fourth container under body tag end-->
          
      <!--</div>
    </div>-->

    <div class="container p-3 my-5 text-primary text-center border"><!--Last and fifth container under body tag start-->
      <div class="row">
        <footer>
          <div class="row ce">
            <div class="col-sm-12">
              <p class="h5"><i> Copyright Â©2022 <a href="http://vlabs.iitkgp.ac.in/vlt/">Virtual Labs IIT Kharagpur</a> </i><br><br>
              <a href="../../license/index.html" target="_blank"> Licensing Terms </a>
            </p>
            </div>
          </div>
        </footer>
      </div>
  </div><!--Last and fifth container under body tag end-->
  
   
	
	
</body><!--body tag end-->
</html><!--html tag end-->